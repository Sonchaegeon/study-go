# 자료형 및 변수

Go 언어는 자료형을 정적으로 검사하기 때문에 변수에 자료형이 정해져 있다. 변수 x의 자료형을 정했으면 x라는 변수는 해당 자료형의 값만 담을 수 있다. 따라서 정적 자료형을 지원하는 언어에서는 변수의 자료형을 미리 선언해주고 해당 변수에 맞는 형태의 값을 담는 방법을 이용한다.

Go 언어는 정적 자료형을 지원하지만 자료형을 미리 선언하고 값을 할당하는 번거로움을 벗어나게 해주는 자료형 추론 기능이 있다.  물론 정적 자료형을 지원하므로 해당 변수에 다른 자료형의 값을 담을 수는 없다.

## 변수 선언

Go 언어는 자료형을 쓰는 방법과 변수를 선언하는 구문 순서가 C, C++, Java 등의 언어와 다르다. 구체적으로 정수 x를 선언하는 방법을 비교하여 살펴봅시다.

C언어:

```c
int x;
int x[5];
```

Go:

```go
var x int
var x [5]int
```

익숙해지면 훌륭한 표현 방식이다. C/C++의 방식은 간단한 선언은 무리가 없지만 자료형이 복잡해지면 굉장히 읽기 어려워진다. 그래서 함수 포인터를 인자로 받고 함수 포인터를 반환하는 함수의 자료형을 읽기가 아주 어려웠던 것이다. Go에서는 다음과 같이 아주 복잡한 함수 형태도 간단하게 표현한다.

```go
func(int, int)
func(int) int
func(int, func(int, int)) func(int) int
```

첫째 줄은 두 정수를 인자로 받는 함수이다. 둘째 줄은 하나의 정수를 인자로 받고 하나의 정수를 반환하는 함수이다. 셋째 함수는 정수 그리고 두 정수를 받아들이는 함수를 받고, 정수 하나를 받고 정수 하나를 반환하는 함수를 반환한다.

기본적으로 C의 표현 방식은 자료형을 왼쪽에 쓰고, 그 자료형을 만들기 위하여 어떤 형태로 연산을 수행해야 하는지를 오른쪽에 표현합니다. 그런데 Go의 방식은 변수 이름을 왼쪽에 쓰고, 그 변수의 자료형을 오른쪽에 주절주절 설명하는 방식이다.

아래는 정수 포인터를 선언한 것이다. 별표는 자료형의 왼쪽에 붙인다.

```go
var p *int
```

마지막으로 변수 선언과 동시에 값을 할당하는 것이다.

```go
var x int = 10
```

## 자료형 추론

Go 언어에서는 자료형이 무엇인지 알 수 있는 경우에는 자료형을 쓰지 않아도 된다.

```go
var i = 10
var p = &i // i의 주소값을 p에 저장
```

여기서 한 발짝 더 나아가서 var 역시 생략할 수 있다. 이 경우에는 = 대신에 :=를 써 줘야 한다.

```go
i := 10
p := &i
```

Go 언어는 C++와 마찬가지로 변수에 정적으로 자료형이 고정된다.

```go
1: i := 10				// 가능. i는 새로운 정수형 변수
2: s := "hello"		// 가능, s는 새로운 문자열 변수
3: i = 20					// 가능, i의 값을 변경
4: j = 30					// 불가능, j는 선언되지 않은 변수
5: i = "hello" 		// 불가능, 이미 i는 정수형임
6: i := 30				// 불가능, 이미 i는 선언되었음
7: i := "hi"			// 불가능, 마찬가지 이유
```

